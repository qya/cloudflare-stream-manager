"use strict";var f=Object.create;var p=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var h=(o,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of R(r))!g.call(o,s)&&s!==t&&p(o,s,{get:()=>r[s],enumerable:!(a=C(r,s))||a.enumerable});return o};var w=(o,r,t)=>(t=o!=null?f(b(o)):{},h(r||!o||!o.__esModule?p(t,"default",{value:o,enumerable:!0}):t,o));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("electron"),O=require("node:url"),n=require("node:path");var c=typeof document<"u"?document.currentScript:null;const m=n.dirname(O.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:c&&c.tagName.toUpperCase()==="SCRIPT"&&c.src||new URL("main.js",document.baseURI).href));process.env.APP_ROOT=n.join(m,"..");const i=process.env.VITE_DEV_SERVER_URL,_=n.join(process.env.APP_ROOT,"dist-electron"),d=n.join(process.env.APP_ROOT,"dist");process.env.VITE_PUBLIC=i?n.join(process.env.APP_ROOT,"public"):d;let e;function u(){e=new l.BrowserWindow({width:1200,height:800,minWidth:800,minHeight:600,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:n.join(m,"preload.js"),webSecurity:!0},titleBarStyle:process.platform==="darwin"?"hiddenInset":"default",show:!1,icon:n.join(process.env.APP_ROOT,"build","icon",process.platform==="darwin"?"icon.icns":process.platform==="win32"?"icon.ico":"icon.png")}),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),i?e.loadURL(i):e.loadFile(n.join(d,"index.html")),e.once("ready-to-show",()=>{e==null||e.show()})}l.app.on("window-all-closed",()=>{process.platform!=="darwin"&&(l.app.quit(),e=null)});l.app.on("activate",()=>{l.BrowserWindow.getAllWindows().length===0&&u()});l.app.whenReady().then(()=>{u();const o=[{label:"File",submenu:[{label:"Open File",accelerator:"CmdOrCtrl+O",click:async()=>{const t=await l.dialog.showOpenDialog(e,{properties:["openFile"],filters:[{name:"Videos",extensions:["mp4","mov","avi","mkv","webm"]},{name:"All Files",extensions:["*"]}]});t.canceled||e==null||e.webContents.send("file-selected",t.filePaths[0])}},{type:"separator"},{label:"Quit",accelerator:"CmdOrCtrl+Q",click:()=>l.app.quit()}]},{label:"Edit",submenu:[{label:"Undo",accelerator:"CmdOrCtrl+Z",role:"undo"},{label:"Redo",accelerator:"Shift+CmdOrCtrl+Z",role:"redo"},{type:"separator"},{label:"Cut",accelerator:"CmdOrCtrl+X",role:"cut"},{label:"Copy",accelerator:"CmdOrCtrl+C",role:"copy"},{label:"Paste",accelerator:"CmdOrCtrl+V",role:"paste"}]},{label:"View",submenu:[{label:"Reload",accelerator:"CmdOrCtrl+R",role:"reload"},{label:"Force Reload",accelerator:"CmdOrCtrl+Shift+R",role:"forceReload"},{label:"Toggle Developer Tools",accelerator:"F12",role:"toggleDevTools"},{type:"separator"},{label:"Actual Size",accelerator:"CmdOrCtrl+0",role:"resetZoom"},{label:"Zoom In",accelerator:"CmdOrCtrl+Plus",role:"zoomIn"},{label:"Zoom Out",accelerator:"CmdOrCtrl+-",role:"zoomOut"},{type:"separator"},{label:"Toggle Fullscreen",accelerator:"F11",role:"togglefullscreen"}]}],r=l.Menu.buildFromTemplate(o);l.Menu.setApplicationMenu(r)});l.ipcMain.handle("select-file",async()=>{const o=await l.dialog.showOpenDialog(e,{properties:["openFile"],filters:[{name:"Videos",extensions:["mp4","mov","avi","mkv","webm"]},{name:"Images",extensions:["png","jpg","jpeg","gif"]},{name:"All Files",extensions:["*"]}]});return o.canceled?null:o.filePaths[0]});l.ipcMain.handle("open-external",async(o,r)=>{const{shell:t}=await import("electron");try{return await t.openExternal(r),{success:!0}}catch(a){return console.error("Failed to open external URL:",a),{success:!1,error:a.message}}});exports.MAIN_DIST=_;exports.RENDERER_DIST=d;exports.VITE_DEV_SERVER_URL=i;
